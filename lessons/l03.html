<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <title>L03 - Számkitalálós játék</title>
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/smoothness/jquery-ui.css"/>
    <link rel="stylesheet" href="/static/css/stsheet.css">
    <link href="//cdn.rawgit.com/noelboss/featherlight/master/release/featherlight.min.css"
          type="text/css" rel="stylesheet" title="Featherlight Styles"/>
    <!-- bootstrap stuff -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>
</head>
<body class="language-java">
<header data-include="/include/header.html"></header>

<div class="container">
	<h1>
        3. lecke
        <small>Számkitalálós játék</small>
        <p>
            <small>Online Android szakkör (DKRMG)</small>
        <p>
    </h1>
    <hr/>

    <section>
        <p>Az első két lecke elvégzése után (telepítés és Hello World) végre belevághatunk az Android programozásba! A Hello
            World alkalmazásunk az előző alkalommal ugyan fontos lépésnek számít, komoly applikációnak mégis csak
            jóindulattal lehet nevezni.</p>
        <p>Ma ehhez képest megírjuk az első androidos játékunkat!</p>
        <p>Nem, repkedő mérges madarakat ma még nem fogtok látni a képernyőn. Ehhez képest kihívhatjuk a telefonunkat
            egy olyan küzdelemre, ami próbára teszi az agyunkat és a kitartásunkat: következzen a <em>számkitalálós</em> játék.</p>
    </section>

    <section>
        <h2 id="gameflow">A játék menete</h2>
        <img src="/static/img/l03/01_gameOverview.png" class="center-block" />
        <p>A számítógép/telefon gondol egy számra 1 és 100 között. A mi feladatunk kitalálni, hogy a gép melyik számra
            gondolhatott! Ehhez:</p>
        <ul>
            <li>Mi tippelünk egyet</li>
            <li>A telefon válaszol, hogy az általa gondolt szám kisebb vagy nagyobb a mi tippünknél. Ha a tippünk helyes,
                nyertünk. A telefon nem csal!</li>
        </ul>
    </section>

    <section>
        <h2 id="how-does-it-look-like">Hogyan néz ez ki a telefonunkon?</h2>
		<p>
			<img src="/static/img/l03/02_finalLayout.png" class="center-block" />
		</p>
        <p>A programozás szépsége, hogy ezt az egyszerű játékot is rengeteg
            különböző módon lehetne elkészíteni. Mivel ez az első komolyabb
            programunk, mi most maradjunk a felhasználói felület legegyszerűbb
            elemeinél:</p>
        <ul>
            <li>Feliratok (TextView)</li>
            <li>Gombok (Button)</li>
            <li>Beviteli mezők (EditText)</li>
            <li>Felbukkanó üzenetek (Toast)</li>
        </ul>
        <p>A kész alkalmazás képe már látható is a szöveg mellett.</p>
        <p>A lecke folyamán&hellip;</p>
        <ul>
            <li>&hellip;először is meg kell ismerkednünk a fent említett
                komponensekkel, majd&hellip;</li>
            <li>&hellip;le kell programoznunk, hogy az egyes eseményekre (pl.
                gombnyomás) a program miként reagáljon.</li>
        </ul>
    </section>

    <section>
        <h2 id="import-project">A projekt importálása</h2>
        <p>Az egyszerűség kedvéért előkészítettünk nektek egy projektet (GuessGame), ami nagyon hasonló a 2. leckében
            létrehozott Hello World projekthez, csak pár szükségtelen dolgot kiszedtünk belőle, illetve a Java kódba
            segítségként némi útmutatást helyeztünk el.</p>
        <p>Ahhoz, hogy a projektet használni tudjuk, importálni kell az Android Studio-ba:</p>
        <ol>
            <li>Töltsük le a <a href="/static/files/NewIde/L03-GuessGame.zip">L03-GuessGame.zip</a> fájlt, és csomagoljuk ki a Hello World
                projekt mappája <strong>mellé</strong>. (Tehát a Hello World mappa mellett legyen egy L03-GuessGame mappa, amely
                tartalmazza az app, gradle mappákat)</li>
            <li>Nyissuk meg az Android Studio-t.</li>
            <li>Egy idő után valószínűleg ugyanaz az ablak fogad minket, mint amivel bezártuk az előző lecke végén, azaz
                újra megnyitotta a Hello World! projektet.</li>
            <li>Nekünk másik projektre lesz szükségünk, ezért zárjuk be a projektet a <code>File -> Close</code> project menüponttal.
                <img src="/static/img/l03/03_closeProject.png" class="center-block" />
            </li>
            <li>Az így megjelenő kis ablakban nyomjuk meg az <code>Import project</code> sort.
                <img src="/static/img/l03/04_importProject.png" class="center-block" />
            </li>
            <li>A megjelenő dialógusablakban keressük meg, és válasszuk ki az 1. lépésben kicsomagolt L03-GuessGame
                mappát, majd kattintsunk az OK gombra.
                <img src="/static/img/l03/05_findProjectFolder.png" class="center-block" />
            </li>
            <li>Ha minden jól megy, rövid gondolkodás után megnyílik egy újabb Android Studio ablak, benne az új
                projekttel. Az ablak megnyitása után az Android Studio még feldolgozza a projekt fájljait, ez eltarthat akár
                pár percig is (Indexing...)
                <img src="/static/img/l03/06_importInProgress.png" class="center-block" />
            </li>
        </ol>
    </section>

    <section>
        <h2 id="settings">Beállítások</h2>
        <p>Mielőtt belekezdünk a fejlesztésbe, érdemes a <code>File -> Settings</code> menüben beállítani pár dolgot,
            ami megkönnyíti majd a munkát.</p>
        <ul>
            <li>Az <code>Editor -> Appearance</code> oldalon a <code>Show line numbers</code> legyen kipipálva. Így sokkal könnyebb lesz hivatkozni
                a kód egyes részeire.</li>
            <li>Az <code>Editor -> Code completion</code> oldalon a <code>Case sensitive completion</code> értéke legyen None. Így kis- és
                nagybetűvel is elkezdheted majd írni a metódus és objektumneveket, a fejlesztőkörnyezet mindenképp tud
                majd segíteni.</li>
            <li><strong>Az <code>Editor -> Auto import</code> oldalon az <code>Optimize imports on the fly</code> és az <code>Add unambigous imports on the
                fly</code> is legyen kipipálva.</strong></li>
            <li>A <em>Keymap</em> oldalon fent érdemes a Keymaps: Default helyett az Eclipse-t kiválasztani.</li>
        </ul>
        <p>A végén a beállításokat az OK gomb megnyomásával mentsd el!</p>
        <img src="/static/img/l03/09_settings.png" class="center-block" />
    </section>

    <section>
        <h2 id="layout-ui">Layout &ndash; felhasználói felület</h2>
        <p>Első lépésként most megtanuljuk, hogy miként lehet könnyedén és gyorsan felhasználói felületet építeni. Ha
            programozás szakkörön találkoztál már a Lazarus-szal, némi előnnyel indulhatsz neki ennek a fejezetnek. Ha nem,
            akkor se csüggedj, ez az applikáció készítés egyik legegyszerűbb része!</p>
        <ol>
            <li>Győződjünk meg arról, hogy a "Tool Buttons" látszik (<code>View -> Tool</code> Buttons legyen pipálva)
                <img src="/static/img/l03/10_showToolButtons.png" class="center-block" />
            </li>
            <li>Nézzük meg, hogy mi is van egész pontosan a projektünkben. Ehhez kattintsunk a <code>Project</code> gombra a bal
                szélen megjelent sávon.
                <img src="/static/img/l03/11_AndroidView.png" class="center-block" />
            </li>
            <li>Nyissuk meg az <code>app -> res -> layout -> activity_main.xml</code> fájlt
                <img src="/static/img/l03/12_openLayoutEditor.png" class="center-block" />
            </li>
            <li>Győződjünk meg arról, hogy a <code>Design</code> fül van az ablak alján kiválasztva.</li>
        </ol>
        <p>A második és a harmadik lépés talán némi magyarázatra szorulhat. Miért van egy szinte üres projektben ennyi
            mappa és fájl? Ezt a kérdést most nem is fogjuk megválaszolni, nem akarunk senkit oldalakon keresztül az Android
            azon részével untatni, amit „mezei” programozóknak ismernie sem kell. A hasznos dolgokkal a szakkör folyamán meg
            fogunk ismerkedni, egyelőre el kell fogadni, hogy ez így van!</p>
        <p>Egy fontos dolgot azonban még most tisztáznunk kell. Amikor az alkalmazásunkat készítjük, két különböző ablakban,
            két különböző felülettel fogunk találkozni:</p>
        <ul>
            <li>Layout editor, ami szépen kirajzolja a képernyőre, hogy az alkalmazásunk <em>hogyan fog kinézni</em>.</li>
            <li>Java kód, ahol szövegesen kell megadnunk (egy Java program megírásával/kiegészítésével), hogy a
                programunk <em>hogyan viselkedjen</em>.</li>
        </ul>
        <img src="/static/img/l03/13_JavaVsXML.png" class="center-block" />

        <h4>Komponensek, tulajdonságok</h4>
        <p>Ha eddig pontosan követtük az utasításokat, akkor megjelent a Design ablak egy okostelefon képével, ami
            megmutatja nekünk: mi is fogadna bennünket, ha az alkalmazásunkat most egy igazi készüléken/emulátorban
            elindítanánk.</p>
        <div class="possible-error">
            <p>Előfordulhat, hogy a felület használata során hibába ütközöl. Ilyenkor ellenőrizd, hogy az ablak tetején 
			   milyen API van kiválasztva. A legfrissebb változat sokszor hibás lehet még.
			    Ilyenkor a legördülő listából válassz ki egy régebbi
                verziót, és vedd ki a pipát az <code>Automatically Pick Best</code> mellől. </p>
            <img src="/static/img/l03/14_bugLayoutApiVer.png" class="center-block" />
        </div>
        <p>Amikor a layout üres, a telefon képernyője is üres marad. Ebből bizonyára rájöttél, hogy máris van egy
            komponensünk, egy úgynevezett <code>TextView</code>, amelyen az általunk begépelt szellemes szöveg látható.</p>
        <p>A komponenseinknek vannak tulajdonságai is, mivel mégsem nézhet ki minden felirat ugyanúgy! Jobb oldalt a
            <code>Properties</code> részen találjátok az épp kijelölt komponens összes tulajdonságát.</p>
        <p>Próbaként kattints rá egyszer a <code>TextView</code> komponensünkre (<code>Ez itt egy szöveg!</code>), és nézd meg a tulajdonságait.</p>
        <ul>
            <li>Elsőként nézd meg a <code>text</code> (szöveg) tulajdonságot, kattints a mezőre, amely a jelenlegi szöveget tartalmazza
                és írd át valami másra! Az Enter leütése után a képernyőn is változik a felirat!
                Próbálj meg ne a mező jobb szélén lévő [&hellip;] gombra kattintani. Ha a <code>Resources</code> ablak mégis véletlenül
                felugrik, zárd nyugodtan be.
                <img src="/static/img/l03/15_componentProperties.png" class="center-block" />
            </li>
            <li>Most következzen a <code>textSize</code> (szöveg méret). Itt megadhatod, hogy a felirat milyen méretben jelenjen meg a
                kijelzőn. Próbának írd be az <code>50sp</code> értéket. Természetesen minél nagyobb számot adsz meg, a szöveg annál
                nagyobb lesz, nyugodtan kísérletezhetsz kedvedre! Az <strong>sp</strong> utótagot (mértékegységet) azért kell beírnunk,
                hogy különböző telefonokon is nagyjából hasonló látványt nyújtson az alkalmazásunk.
                <img src="/static/img/l03/16_textSizeProperty.png" class="center-block" />
            </li>
            <li>Érdemes még megtekinteni a <code>textColor</code> tulajdonságot is, ahol a megjelenített szöveg színét tudjuk
                meghatározni. A mezőbe beírhatjuk közvetlenül az általunk választott szín kódját (<code>#RRGGBB</code>) kettőskereszt
                után tizenhatos számrendszerben (pl. <code>#ff0000</code> piros, <code>#00ff00</code> zöld, <code>#0000ff</code> kék, <code>#00ffff</code> türkiz stb.)
                Nem igazodsz ki a színkódokon? Ne aggódj, az Android Studio nem is várja el ezt tőled. Ha a sor végén
                található [...] gombra kattintasz <img src="/static/img/l03/17_textColor_inline.png" />, akkor felbukkan a
                Resources dialógus. Itt válaszd ki a <em>Color</em> fület, és keverj ki bármilyen tetszőleges színt.
                <img src="/static/img/l03/18_colorChooser.png" class="center-block" />
            </li>
            <li>Végül fontos még megemlíteni az <code>id</code> tulajdonságot. Ez az érték segít a komponensünk megtalálásában, ez a
                komponensünk neve, azonosítója. Ezt a feliratot <code>leiras</code>-nak neveztük el, ékezetek nélkül.
                <img src="/static/img/l03/19_id_inline.png" class="center-block" />
            </li>
        </ul>
        <p>Ezen kívül kipróbálhatod még óvatosan a <code>background</code>, <code>textStyle</code> tulajdonságokat is.</p>
    </section>
	<section>
		<h3>Új komponens hozzáadása</h2>
		<p>Ha minden igaz, akkor jelenleg van egy tetszőlegesen átszínezhető és méretezhető feliratunk. A feliratok nagyon
			hasznosak, de térjünk át egy kicsit izgalmasabb komponensre: a gombokra (<code>Button</code>).</p>
		<p>Helyezzünk el egy gombot a felirat alá!</p>
		<ol>
			<li>
				<p>Baloldalt a <code>Widget</code> kategóriában megtaláljuk a <code>Button</code> komponenst.</p>
				****TODO IMG***
			</li>
			<li>
				<p>Kattintsunk rá, majd az egérgombot lenyomva tartva húzzuk át a telefon kijelzőjére. Ahogy a kijelző
						különböző pontjaira mozgatjuk a gombot, láthatjuk, hogy a tervező megpróbálja a gombot a létező 
						komponensekhez illetve a képernyő széleihez igazítani.</p>
				****TODO IMG***
			</li>
			<li>
				<p>Tegyük le a gombot pontosan középre, valahol a képernyő alsó felén. 
					Ekkor felengedhetjük az egér bal gombját.</p>
				<p>Az új komponensünk hasonló tulajdonságokkal rendelkezik, mint a felirat.</p>
			</li>
			<li>
				<p>Írjuk át a megjelenő szöveget (text) erre: "<code>kattints rám!</code>"</p>
				****TODO IMG***
			</li>
			<li>
				<p>nézzük meg a gomb <code>id</code> tulajdonságát, mert később szükségünk lesz még rá! Ez nem más, mint <code>button</code>.</p>
				****TODO IMG***
			</li>
			<li>
				<p>Próbáljuk ki, hogy amit eddig csináltunk, hogy néz ki igazi telefonon/emulátoron! Futtassuk a projektet!</p>
			</li>
		</ol>
	</section>
	<section>
		<h2>Interaktivtás</h2>
		<p>Van egy csinosan kinéző alkalmazásunk, csak sajnos még nem használható semmire. Nem reagál a gombnyomásra,
				nem gondol semmilyen számra. Leheljünk életet bele!</p>
		<p>Eddig az <code>activity_main.xml</code> fájlban dolgoztunk, ami azt tartalmazta, hogy hogy nézzen ki az alkalmazásunk. Azt, hogy
			mit csináljon, Java nyelven kell megírnunk, az <code>app -> java -> hu.dkrmg.android.guessgame -> MainActivity</code> fájlban. 
			Nyissuk is meg és próbáljunk meg egy pillanatig megbarátkozni a kóddal.</p>
		*** IMG ***
		<p>Ha eddig nem találkoztál még a Java nyelvvel, elsőre talán kissé sokkoló lehet a látvány. Ne félj, a többnyire angol 
			szavakból, rövidítésekből és szimbólumokból álló kavalkád szépen lassan értelmet nyer! Mielőtt elkezdenéd az első 
			feladatot, szeretnénk csak egy-két dolgot elmagyarázni.</p>
			
		<ul>
			<li>
				<p>Bizonyára látod, hogy a sorok nem mindig egy vonalban kezdődnek. Ennek fontos szerepe van, hogy
					programozóként könnyen tudjuk felismerni a program szerkezetét. Azok a sorok, amik egy vonalba vannak
					behúzva, azonos szinten helyezkednek el a programban. Ennek segítségével könnyen azonosíthatjuk a
					függvényeket, illetve az egyes függvényekben lakó kódot.</p>
				***IMG***
			</li>
			<li>
				<p>A programban elég sokszor találkozol // kezdetű sorokkal (szürke sorok a képen). Ezek a sorok kommentek,
					melyeket a számítógép figyelmen kívül hagy. Csak azért vannak a programban, hogy ti (és mi is) jobban
					átlássuk azt.</p>
			</li>
			<li>
				<p>A kommentek egy speciális típusa a <code>TODO</code>, ami a feladatok helyét jelöli (kék betűvel).</p>
				***IMG***
			</li>
		</ul>
		<h4 class="task">1. feladat</h4>
		<em>Írjunk meg egy új függvényt, és állítsuk be a gombunk <code>onClick</code> tulajdonságával, hogy ez a függvény fusson le amikor 
			megnyomjuk a gombot.</em>
			
		<p>Először keressük meg az első feladatot <code>[TODO 1] (37.sor)</code>, és hozzunk létre ezen a helyen egy új függvényt! Ehhez 
			másoljuk be a TODO sor helyére az alábbi sorokat:</p>
			
		<pre><code>
		public void buttonClicked(View v) {

}
		</code></pre>
		<p>Fontos, hogy mindent pontosan írj be! A kis-/nagybetűk, vesszők, zárójelek, idézőjelek és a sorvégi pontosvessző – mind számít!</p>
		<ul>
			<li><p>Az 1. sor jelöli a függvényünk kezdetét: <code>public void buttonClicked(View v) {</code></p>
				<p>Amit érdemes tudni, hogy a „buttonClicked” a függvényünk neve, amit akár másra is megváltoztathatnánk.</p></li>
			<li><p>A két kapcsos zárójel közötti rész írja le a függvény viselkedését, azaz mi történjen, ha ezt a függvényt
					elindítja valaki. Ez a függvény törzse. Android programozás során többnyire a függvények törzsében fogunk
					dolgozni.</p>
				<p>Esetünkben ez egy felbukkanó üzenetet (<code>Toast</code>) jelenít meg a telefon képernyőjén, 
					a <code>"Megnyomtad a gombot!"</code>" felirattal, majd pár másodperc után el is tünteti.</p>	
			</li>
		</ul>
		<p>Tehát például ez is egy helyes függvény lenne:</p>
		<pre><code>
		public void enEgyFuggvenyVagyok(View v) {
	// bla-bla
	// bla-bla
	// és most jöjjön egy Toast
	Toast.makeText(this, "Szia!", Toast.LENGTH_SHORT).show();
}</code></pre>

		<p>Próbáljuk is ki (***IMG***)! Mi történik, ha megnyomjuk a telefonon a gombot? Ha pontosan követted a leírást,
			akkor az a <em>jó</em> működés, hogy nem történik semmi :-) ! Ugyanis mi csak megírtuk a függvényünket, de nem kötöttük 
			össze a <strong>gombot</strong> a <strong>kóddal</strong>.</p>
		<p>A gomb <code>onClick</code> tulajdonságban megadhatjuk, hogy a gomb megnyomásakor melyik függvény fusson le.</p>
		
		<ol>
			<li>Nyissuk meg újra az <code>activity_main.xml</code> fájlt. (layout)</li>
			<li>Kattintsunk egyszer a gombunkra, és jobboldalt a <code>Properties</code> ablakban keressük meg az <code>onClick</code> sort.</li>
			<li>Ha a mellette lévő üres mezőre kattintunk, megjelenik egy legördülő lista, amit ha lenyitunk, megtaláljuk
					annak az eljárásnak a nevét (<code>buttonClicked</code>), ahova kódot írtuk. Válasszuk ki!
				***IMG***
				</li>
			<li>Próbáljuk meg újra futtatni az alkalmazást!</li>
		</ol>
	</section>
</div>

<footer data-include="/include/footer.html"></footer>
<script src="/static/js/lessonBottomStuff.js" type="text/javascript" charset="utf-8"></script>
<script src="//cdn.rawgit.com/noelboss/featherlight/master/release/featherlight.min.js"></script>
<link rel="stylesheet" href="/static/css/stsheet.css"/>
<script src="/static/js/prism.js"></script>
</body>
</html>
