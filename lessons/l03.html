<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <title>L03 - Számkitalálós játék</title>
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/smoothness/jquery-ui.css"/>
    <link rel="stylesheet" href="/static/css/stsheet.css">
    <link href="//cdn.rawgit.com/noelboss/featherlight/master/release/featherlight.min.css"
          type="text/css" rel="stylesheet" title="Featherlight Styles"/>
    <!-- bootstrap stuff -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>
</head>
<body class="language-java">
<header data-include="/include/header.html"></header>

<div class="container">
	<h1>
        3. lecke
        <small>Számkitalálós játék</small>
        <p>
            <small>Online Android szakkör (DKRMG)</small>
        <p>
    </h1>
    <hr/>

    <section>
        <p>Az első két lecke elvégzése után (telepítés és Hello World) végre belevághatunk az Android programozásba! A Hello
            World alkalmazásunk az előző alkalommal ugyan fontos lépésnek számít, komoly applikációnak mégis csak
            jóindulattal lehet nevezni.</p>
        <p>Ma ehhez képest megírjuk az első androidos játékunkat!</p>
        <p>Nem, repkedő mérges madarakat ma még nem fogtok látni a képernyőn. Ehhez képest kihívhatjuk a telefonunkat
            egy olyan küzdelemre, ami próbára teszi az agyunkat és a kitartásunkat: következzen a <em>számkitalálós</em> játék.</p>
    </section>

    <section>
        <h2 id="gameflow">A játék menete</h2>
        <img src="/static/img/l03/01_gameOverview.png" class="center-block" />
        <p>A számítógép/telefon gondol egy számra 1 és 100 között. A mi feladatunk kitalálni, hogy a gép melyik számra
            gondolhatott! Ehhez:</p>
        <ul>
            <li>Mi tippelünk egyet</li>
            <li>A telefon válaszol, hogy az általa gondolt szám kisebb vagy nagyobb a mi tippünknél. Ha a tippünk helyes,
                nyertünk. A telefon nem csal!</li>
        </ul>
    </section>

    <section>
        <h2 id="how-does-it-look-like">Hogyan néz ez ki a telefonunkon?</h2>
		<p>
			<img src="/static/img/l03/02_finalLayout.png" class="center-block" />
		</p>
        <p>A programozás szépsége, hogy ezt az egyszerű játékot is rengeteg
            különböző módon lehetne elkészíteni. Mivel ez az első komolyabb
            programunk, mi most maradjunk a felhasználói felület legegyszerűbb
            elemeinél:</p>
        <ul>
            <li>Feliratok (TextView)</li>
            <li>Gombok (Button)</li>
            <li>Beviteli mezők (EditText)</li>
            <li>Felbukkanó üzenetek (Toast)</li>
        </ul>
        <p>A kész alkalmazás képe már látható is a szöveg mellett.</p>
        <p>A lecke folyamán&hellip;</p>
        <ul>
            <li>&hellip;először is meg kell ismerkednünk a fent említett
                komponensekkel, majd&hellip;</li>
            <li>&hellip;le kell programoznunk, hogy az egyes eseményekre (pl.
                gombnyomás) a program miként reagáljon.</li>
        </ul>
    </section>

    <section>
        <h2 id="import-project">A projekt importálása</h2>
        <p>Az egyszerűség kedvéért előkészítettünk nektek egy projektet (GuessGame), ami nagyon hasonló a 2. leckében
            létrehozott Hello World projekthez, csak pár szükségtelen dolgot kiszedtünk belőle, illetve a Java kódba
            segítségként némi útmutatást helyeztünk el.</p>
        <p>Ahhoz, hogy a projektet használni tudjuk, importálni kell az Android Studio-ba:</p>
        <ol>
            <li>Töltsük le a <a href="/static/files/NewIde/L03-GuessGame.zip">L03-GuessGame.zip</a> fájlt, és csomagoljuk ki a Hello World
                projekt mappája <strong>mellé</strong>. (Tehát a Hello World mappa mellett legyen egy L03-GuessGame mappa, amely
                tartalmazza az app, gradle mappákat)</li>
            <li>Nyissuk meg az Android Studio-t.</li>
            <li>Egy idő után valószínűleg ugyanaz az ablak fogad minket, mint amivel bezártuk az előző lecke végén, azaz
                újra megnyitotta a Hello World! projektet.</li>
            <li>Nekünk másik projektre lesz szükségünk, ezért zárjuk be a projektet a <code>File -> Close</code> project menüponttal.
                <img src="/static/img/l03/03_closeProject.png" class="center-block" />
            </li>
            <li>Az így megjelenő kis ablakban nyomjuk meg az <code>Import project</code> sort.
                <img src="/static/img/l03/04_importProject.png" class="center-block" />
            </li>
            <li>A megjelenő dialógusablakban keressük meg, és válasszuk ki az 1. lépésben kicsomagolt L03-GuessGame
                mappát, majd kattintsunk az OK gombra.
                <img src="/static/img/l03/05_findProjectFolder.png" class="center-block" />
            </li>
            <li>Ha minden jól megy, rövid gondolkodás után megnyílik egy újabb Android Studio ablak, benne az új
                projekttel. Az ablak megnyitása után az Android Studio még feldolgozza a projekt fájljait, ez eltarthat akár
                pár percig is (Indexing...)
                <img src="/static/img/l03/06_importInProgress.png" class="center-block" />
            </li>
			<li>
				Mivel a projektünk nem feltétlenül az általad letöltött (legújabb) Android Studio verzióval készült, 
				az első megnyitáskor találkozhatunk néhány furcsa hibaüzenettel. Szerencsére az Android Studio elég okos ahhoz, hogy 
				elvégezze helyettünk a projekten az apróbb (szükséges) átalakításokat. Fogadjuk el a javaslatait.
				<div class="imgstore">
					<img src="/static/img/l03/06b_dialogue.png"/>
					<img src="/static/img/l03/6cerr.png"/>
					<img src="/static/img/l03/6dupgr.png"/>
				</div>
			</li>
        </ol>
    </section>

    <section>
        <h2 id="settings">Beállítások</h2>
        <p>Mielőtt belekezdünk a fejlesztésbe, érdemes a <code>File -> Settings</code> menüben beállítani pár dolgot,
            ami megkönnyíti majd a munkát.</p>
        <ul>
            <li>Az <code>Editor -> General -> Appearance</code> oldalon a <code>Show line numbers</code> legyen kipipálva. Így sokkal könnyebb lesz hivatkozni
                a kód egyes részeire.</li>
            <li>Az <code>Editor -> General-> Code completion</code> oldalon a <code>Case sensitive completion</code> értéke legyen None. Így kis- és
                nagybetűvel is elkezdheted majd írni a metódus és objektumneveket, a fejlesztőkörnyezet mindenképp tud
                majd segíteni.</li>
            <li><strong>Az <code>Editor -> General-> Auto import</code> oldalon az <code>Optimize imports on the fly</code> és az <code>Add unambigous imports on the fly</code> is legyen kipipálva.</strong></li>
        </ul>
        <p>A végén a beállításokat az OK gomb megnyomásával mentsd el!</p>
        <img src="/static/img/l03/09_settings.png" class="center-block" />
    </section>

    <section>
        <h2 id="layout-ui">Layout &ndash; felhasználói felület</h2>
        <p>Első lépésként most megtanuljuk, hogy miként lehet könnyedén és gyorsan felhasználói felületet építeni. Ha
            programozás szakkörön találkoztál már a Lazarus-szal, némi előnnyel indulhatsz neki ennek a fejezetnek. Ha nem,
            akkor se csüggedj, ez az applikáció készítés egyik legegyszerűbb része!</p>
        <ol>
			<li><p>Nézd meg, hogy az ablak bal oldalán megjelenik-e a projekted tartalma az alábbi módon:</p>
				<img src="/static/img/l03/10b_exp.png" class="center-block" />
				<p>Ha nem, akkor:</p>
				<ul>
					<li>Győződjünk meg arról, hogy a "Tool Buttons" látszik (<code>View -> Tool</code> Buttons legyen pipálva)
						<img src="/static/img/l03/10_showToolButtons.png" class="center-block" />
					</li>
					<li>Nézzük meg, hogy mi is van egész pontosan a projektünkben. Ehhez kattintsunk a <code>Project</code> gombra a bal
						szélen megjelent sávon.
						<img src="/static/img/l03/11_AndroidView.png" class="center-block" />
					</li>
				</ul>
			</li>
            <li>Most, hogy látjuk a projekt tartalmát, nyissuk meg az <code>app -> res -> layout -> activity_main.xml</code> fájlt.
                <img src="/static/img/l03/12_openLayoutEditor.png" class="center-block" />
            </li>
            <li>Győződjünk meg arról, hogy a <code>Design</code> fül van az ablak alján kiválasztva. Ilyekor mefjelenik a layout szerkesztő
				összetett, ám igen hasznos ablaka.</li>
			<li>Kezdő fejlesztőként érdemes egy keveset legalább könnyíteni a dolgunkon. Tüntessük el az egyelőre kevéssé hasznos jobb oldali (kék) 
			ábrát a bal felső sarokban található <em>Show design</em> gombocska kiválasztásával.
                <img src="/static/img/l03/12_1_openLayoutEditor.png" class="center-block" />
            </li>
        </ol>
        <p>Miért van egy szinte üres projektben ennyi
            mappa és fájl? Ezt a kérdést most nem is fogjuk megválaszolni, nem akarunk senkit oldalakon keresztül az Android
            azon részével untatni, amit „mezei” programozóknak ismernie sem kell. A hasznos dolgokkal a szakkör folyamán meg
            fogunk ismerkedni, egyelőre el kell fogadni, hogy ez így van!</p>
        <p>Egy fontos dolgot azonban még most tisztáznunk kell. Amikor az alkalmazásunkat készítjük, két különböző ablakban,
            két különböző felülettel fogunk találkozni:</p>
        <ul>
            <li>Layout editor, ami szépen kirajzolja a képernyőre, hogy az alkalmazásunk <em>hogyan fog kinézni</em>.</li>
            <li>Java kód, ahol szövegesen kell megadnunk (egy Java program megírásával/kiegészítésével), hogy a
                programunk <em>hogyan viselkedjen</em>.</li>
        </ul>
        <img src="/static/img/l03/13_JavaVsXML.png" class="center-block" />

        <h4>Komponensek, tulajdonságok</h4>
        <p>Ha eddig pontosan követtük az utasításokat, akkor megjelent a Design ablak egy okostelefon képével, ami
            megmutatja nekünk: mi is fogadna bennünket, ha az alkalmazásunkat most egy igazi készüléken/emulátorban
            elindítanánk.</p>
        <p>Amikor a layout üres, a telefon képernyője is üres marad. Ebből bizonyára rájöttél, hogy máris van egy
            komponensünk, egy úgynevezett <code>TextView</code>, amelyen az általunk begépelt szellemes szöveg látható.</p>
        <p>A komponenseinknek vannak tulajdonságai is, mivel mégsem nézhet ki minden felirat ugyanúgy! Jobb oldalt a
            <code>Properties</code> részen találjátok az épp kijelölt komponens összes tulajdonságát.</p>
        <p>Próbaként kattints rá egyszer a <code>TextView</code> komponensünkre (<code>Ez itt egy szöveg!</code>), és nézd meg a tulajdonságait.</p>
        <ul>
            <li>Elsőként nézd meg a <code>text</code> (szöveg) tulajdonságot, kattints a mezőre, amely a jelenlegi szöveget tartalmazza
                és írd át valami másra! Az Enter leütése után a képernyőn is változik a felirat!
                Próbálj meg ne a mező jobb szélén lévő [&hellip;] gombra kattintani. Ha a <code>Resources</code> ablak mégis véletlenül
                felugrik, zárd nyugodtan be.
                <img src="/static/img/l03/15_componentProperties.png" class="center-block" />
            </li>
            <li>Most következzen a <code>textAppearance/textSize</code> (szöveg méret). Itt megadhatod, hogy a felirat milyen méretben jelenjen meg a
                kijelzőn. Próbának írd be az <code>50sp</code> értéket. Természetesen minél nagyobb számot adsz meg, a szöveg annál
                nagyobb lesz, nyugodtan kísérletezhetsz kedvedre! Az <strong>sp</strong> utótagot (mértékegységet) azért kell beírnunk,
                hogy különböző telefonokon is nagyjából hasonló látványt nyújtson az alkalmazásunk.
                <img src="/static/img/l03/16_textSizeProperty.png" class="center-block" />
            </li>
            <li>Érdemes még megtekinteni a <code>textAppearance/textColor</code> tulajdonságot is, ahol a megjelenített szöveg színét tudjuk
                meghatározni. A mezőbe beírhatjuk közvetlenül az általunk választott szín kódját (<code>#RRGGBB</code>) kettőskereszt
                után tizenhatos számrendszerben (pl. <code>#ff0000</code> piros, <code>#00ff00</code> zöld, <code>#0000ff</code> kék, <code>#00ffff</code> türkiz stb.)
                Nem igazodsz ki a színkódokon? Ne aggódj, az Android Studio nem is várja el ezt tőled. Ha a sor végén
                található [...] gombra kattintasz <img src="/static/img/l03/17_textColor_inline.png" />, akkor felbukkan a
                Resources dialógus. Itt válaszd ki a <em>Color</em> fület, és válassz a széles palettáról, vagy az <em>Add new resource</em> segítségével
				keverj ki bármilyen tetszőleges színt.
                <img src="/static/img/l03/18_colorChooser.png" class="center-block" />
            </li>
            <li>Végül fontos még megemlíteni az <code>id</code> tulajdonságot. Ez az érték segít a komponensünk megtalálásában, ez a
                komponensünk neve, azonosítója. Ezt a feliratot <code>leiras</code>-nak neveztük el, ékezetek nélkül.
                <img src="/static/img/l03/19_id_inline.png" class="center-block" />
            </li>
        </ul>
        <p>Ezen kívül kipróbálhatod még óvatosan a <code>textStyle</code> tulajdonságot is.</p>
		<p><em>A bátrabbak megnézhetik a View all properties nyilak lenyomása után a Background tulajdonságot is</em></p>
    </section>
	<section id="new-component">
		<h3>Új komponens hozzáadása</h2>
		<p>Ha minden igaz, akkor jelenleg van egy tetszőlegesen átszínezhető és méretezhető feliratunk. A feliratok nagyon
			hasznosak, de térjünk át egy kicsit izgalmasabb komponensre: a gombokra (<code>Button</code>).</p>
		<p>Helyezzünk el egy gombot a felirat alá!</p>
		<ol>
			<li>
				<p>Baloldalt a <code>Widget</code> kategóriában megtaláljuk a <code>Button</code> komponenst.</p>
				<img src="/static/img/l03/20_addButton.png" class="center-block" />
			</li>
			<li>
				<p>Kattintsunk rá, majd az egérgombot lenyomva tartva húzzuk át a telefon kijelzőjére. Ahogy a kijelző
						különböző pontjaira mozgatjuk a gombot, láthatjuk, hogy a tervező megpróbálja a gombot a létező 
						komponensekhez illetve a képernyő széleihez igazítani.</p>
				<div class="imgstore">
                        <img src="/static/img/l03/21a_componentAlignment.png" class="center-block" />
                        <img src="/static/img/l03/21b_componentAlignment.png" class="center-block" />
                        <img src="/static/img/l03/21c_componentAlignment.png" class="center-block" />
                    </div>
			</li>
			<li>
				<p>Tegyük le a gombot pontosan középre, valahol a képernyő alsó felén. 
					Ekkor felengedhetjük az egér bal gombját.</p>
				<p>Az új komponensünk hasonló tulajdonságokkal rendelkezik, mint a felirat.</p>
			</li>
			<li>
				<p>Írjuk át a megjelenő szöveget (text) erre: "<code>kattints rám!</code>"</p>
				<img src="/static/img/l03/22_buttonProperties.png" class="center-block" />
			</li>
			<li>
				<p>nézzük meg a gomb <code>id</code> tulajdonságát, mert később szükségünk lesz még rá! Ez nem más, mint <code>button</code>.</p>
				<img src="/static/img/l03/23_buttonId_inline.png" class="center-block" />
			</li>
			<li>
				<p>Próbáljuk ki, hogy amit eddig csináltunk, hogy néz ki igazi telefonon/emulátoron! Futtassuk a projektet!</p>
			</li>
		</ol>
	</section>
	<section>
		<h2>Interaktivtás</h2>
		<p>Van egy csinosan kinéző alkalmazásunk, csak sajnos még nem használható semmire. Nem reagál a gombnyomásra,
				nem gondol semmilyen számra. Leheljünk életet bele!</p>
		<p>Eddig az <code>activity_main.xml</code> fájlban dolgoztunk, ami azt tartalmazta, hogy hogy nézzen ki az alkalmazásunk. Azt, hogy
			mit csináljon, Java nyelven kell megírnunk, az <code>app -> java -> hu.dkrmg.android.guessgame -> MainActivity</code> fájlban. 
			Nyissuk is meg és próbáljunk meg egy pillanatig megbarátkozni a kóddal.</p>
		<img src="/static/img/l03/24_openMainActivity.png" class="center-block" />
		<p>Ha eddig nem találkoztál még a Java nyelvvel, elsőre talán kissé sokkoló lehet a látvány. Ne félj, a többnyire angol 
			szavakból, rövidítésekből és szimbólumokból álló kavalkád szépen lassan értelmet nyer! Mielőtt elkezdenéd az első 
			feladatot, szeretnénk csak egy-két dolgot elmagyarázni.</p>
			
		<ul>
			<li>
				<p>Bizonyára látod, hogy a sorok nem mindig egy vonalban kezdődnek. Ennek fontos szerepe van, hogy
					programozóként könnyen tudjuk felismerni a program szerkezetét. Azok a sorok, amik egy vonalba vannak
					behúzva, azonos szinten helyezkednek el a programban. Ennek segítségével könnyen azonosíthatjuk a
					függvényeket, illetve az egyes függvényekben lakó kódot.</p>
				<img src="/static/img/l03/25_indentation.png" class="center-block" />
			</li>
			<li>
				<p>A programban elég sokszor találkozol // kezdetű sorokkal (szürke sorok a képen). Ezek a sorok kommentek,
					melyeket a számítógép figyelmen kívül hagy. Csak azért vannak a programban, hogy ti (és mi is) jobban
					átlássuk azt.</p>
			</li>
			<li>
				<p>A kommentek egy speciális típusa a <code>TODO</code>, ami a feladatok helyét jelöli (kék betűvel).</p>
				<img src="/static/img/l03/26_comments.png" class="center-block" />
			</li>
		</ul>
		<h4 class="task">1. feladat</h4>
		<em>Írjunk meg egy új függvényt, és állítsuk be a gombunk <code>onClick</code> tulajdonságával, hogy ez a függvény fusson le amikor 
			megnyomjuk a gombot.</em>
			
		<p>Először keressük meg az első feladatot <code>[TODO 1] (44.sor)</code>, és hozzunk létre ezen a helyen egy új függvényt! Ehhez 
			másoljuk be a TODO sor helyére az alábbi sorokat:</p>
			
		<pre><code>public void buttonClicked(View v) {
    Toast.makeText(this, "Megnyomtad a gombot!", Toast.LENGTH_SHORT).show();
}
		</code></pre>
		<p>Fontos, hogy mindent pontosan írj be! A kis-/nagybetűk, vesszők, zárójelek, idézőjelek és a sorvégi pontosvessző – mind számít!</p>
		<ul>
			<li><p>Az 1. sor jelöli a függvényünk kezdetét: <code>public void buttonClicked(View v) {</code></p>
				<p>Amit érdemes tudni, hogy a „buttonClicked” a függvényünk neve, amit akár másra is megváltoztathatnánk.</p></li>
			<li><p>A két kapcsos zárójel közötti rész írja le a függvény viselkedését, azaz mi történjen, ha ezt a függvényt
					elindítja valaki. Ez a függvény törzse. Android programozás során többnyire a függvények törzsében fogunk
					dolgozni.</p>
				<p>Esetünkben ez egy felbukkanó üzenetet (<code>Toast</code>) jelenít meg a telefon képernyőjén, 
					a <code>"Megnyomtad a gombot!"</code>" felirattal, majd pár másodperc után el is tünteti.</p>	
			</li>
		</ul>
		<p>Tehát például ez is egy helyes függvény lenne:</p>
		<pre><code>public void enEgyFuggvenyVagyok(View v) {
	// bla-bla
	// bla-bla
	// és most jöjjön egy Toast
	Toast.makeText(this, "Szia!", Toast.LENGTH_SHORT).show();
}</code></pre>

		<p>Próbáljuk is ki (<img src="/static/img/l03/07_inlineRun.png"/>)! Mi történik, ha megnyomjuk a telefonon a gombot? Ha pontosan követted a leírást,
			akkor az a <em>jó</em> működés, hogy nem történik semmi :-) ! Ugyanis mi csak megírtuk a függvényünket, de nem kötöttük 
			össze a <strong>gombot</strong> a <strong>kóddal</strong>.</p>
		<p>A gomb <code>onClick</code> tulajdonságban megadhatjuk, hogy a gomb megnyomásakor melyik függvény fusson le.</p>
		
		<ol>
			<li>Nyissuk meg újra az <code>activity_main.xml</code> fájlt. (layout)</li>
			<li>Kattintsunk egyszer a gombunkra, és jobboldalt a <code>Properties</code> ablakban keressük meg az <code>onClick</code> sort.</li>
			<li>Ha a mellette lévő üres mezőre kattintunk, megjelenik egy legördülő lista, amit ha lenyitunk, megtaláljuk
					annak az eljárásnak a nevét (<code>buttonClicked</code>), ahova kódot írtuk. Válasszuk ki!
				<img src="/static/img/l03/27_chooseOnclickListener.png" class="center-block" />
				</li>
			<li>Próbáljuk meg újra futtatni az alkalmazást!</li>
		</ol>
	</section>
	<section>
        <div class="misc-info">
            <h3>Kitérő: változók</h3>
            <p>
                A layout nézetben egyszerűen ki tudunk választani egy gombot, csak rá kell kattintanunk! Mi a helyzet, ha a Java
                programunkból szeretnénk hivatkozni egy komponensre? Nincs más dolgunk mint létrehozni egy változót, elnevezni
                mondjuk <code>gomb1</code>-nek és közölni a számítógéppel, hogy mostantól a "gomb1" változó nem más, mint az általunk
                meghatározott gomb a layout szerkesztőben. De mi is az a változó?
            </p>
            <p>A változó a programozásban egy <em>tároló</em>, aminek van:</p>
            <ul>
                <li>típusa</li>
                <li>neve</li>
            </ul>
            <p>Például létrehozhatunk egy-egy változót (<code>a</code> és <code>b</code>), amiben egy téglalap oldalainak hosszát tároljuk</p>
            <pre><code>int a; // az a oldal. int: egész szám pl. 0,1,2,3
int b; // a b oldal. int
a = 10; // az a oldal hossza legyen 10 (pl. cm)
b = 15; // a b oldal hossza legyen 15 (pl. cm)</code></pre>
            <p>
                Az első két sor a változók deklarációja (létrehozása, bemutatása), az alsó két sor pedig bemutatja, hogy miként
                tárolhatunk el új értéket a változóinkban.
            </p>
            <pre><code>int x;
x = 5; // x értéke legyen 5</code></pre>
            <p>Az értékadás (<code>=</code>) után a régi érték elveszik.</p>
            <pre><code>x = 6;			// x értéke mostantól 6!</code></pre>
            <p>Miért is jó, hogy vannak változóink? Például most könnyedén kiszámíthatjuk a téglalapunk területét</p>
            <pre><code>int terulet;
terulet = a * b; 	// téglalap területe: T=a*b</code></pre>
            <p>
                Más <strong>típusú</strong> változó kell, ha egy számot szeretnénk eltárolni benne, megint más, ha szöveget, vagy ha mondjuk egy
                gombot.
            </p>
            <ul>
                <li>egy <code>szam</code> nevű, egész számot tároló változót így deklarálhatunk: <code>int szam;</code></li>
                <li>egy <code>szoveg</code> nevű, szöveget tárolót így: <code>String szoveg;</code></li>
                <li>egy <code>leiras</code> nevű, TextView-ra hivatkozó változót pedig így: <code>TextView leiras;</code></li>
            </ul>
            <p>Figyelni kell, hogy az, amit bele szeretnénk rakni a változóba, belepasszoljon, azaz ugyan olyan típusú legyen, mint a változó.</p>
            <ul>
                <li>A <code>szam</code> változóba rakjuk bele a 42 értéket: <code>szam = 42;</code></li>
                <li>A <code>szoveg</code> változóba rakjuk bele a "Halihó!" értéket: <code>szoveg = "Halihó!"</code></li>
                <li>A <code>leiras</code> rakjuk bele a leírást megjelenítő komponenst: <code>leiras = (TextView) findViewById(R.id.leiras);</code></li>
            </ul>
            <p>
                Hohó! Ez az utolsó kicsit más, mint az előzőek! Nézzük meg közelebbről. Nagyjából stimmel, van baloldalt egy
                változó (leiras), utána az <code>=</code>. De ami utána következik, az egy kicsit más.
            </p>

            <p>
                A <strong><code>findViewById</code></strong> egy beépített függvény, ami meg tudja keresni a kért komponenst,
                és a fenti módszerrel el tudjuk
                azt menteni egy változóba. Azt, hogy melyik komponenst kérjük, a második pár zárójel között kell megadni.
                Emlékeztek? Az <a href="#new-component">Új komponens hozzáadása</a> rész előtt közvetlenül megnéztük, hogy a leírást tartalmazó szöveg-
                komponensnek mi az azonosítója. Ugyan az, mint ami itt az <code>R.id.</code> után szerepel. Ezt majd később megnézzük, hogy
                miért van így, most fogadjuk el, hogy komponenst megkeresni így lehet:
                <code>findViewById(R.id.&le;komponens azonosítója&gt;);</code> Már csak egy dologról nem tudjuk, hogy micsoda: a "<code>(TextView)</code>” rész. Mivel komponensből
                nagyon sok féle lehet, meg kell mondanunk, hogy a változóba milyen típus passzol. Mivel a változónk típusa
                <code>TextView</code>, így ilyen típusú komponenst kérünk.
            </p>
            <p>Pascalban / Lazarusban a változók nagyon hasonlóak.</p>
            <pre><code>var
  a : integer; // int a; Pascalban "név : típus", nem "típus név"
  ...
  a := 10; // a = 10; Pascalban ":=", nem "=".</code></pre>
        </div>
    </section>
	
    <section>
        <h4 class="task">2. feladat</h4>
        <p>A következő feladat legyen az, hogy gombnyomásra változzon meg a gomb feliratának színe!</p>
        <h5 class="task">2.1. feladat</h5>
        <p>
            <em>
                Készíts egy új változót a gombodnak [TODO 2.1 helyére, 2x szerepel!] (Segítség: a gomb változójának típusa Button
                legyen!)!
            </em>
        </p>
        <p>
            <em>Keresd meg a gomb komponensedet, és tárold el az új változódban!</em>
        </p>
        <p>
            Segítségként nézd meg, hogy mi hogyan csináltuk ugyanezt a "<code>leiras</code>" nevű <code>TextView</code> típusú változóval.
        </p>
        <p>
            A layout komponenst az azonosítója alapján (<code>id</code>) a
            <code>(&lt;típus&gt;) findViewById(R.id.<komponens azonosítója>);</code>
            függvény segítségével találjuk meg!
        </p>
        <h5 class="task">2.2. feladat</h5>
        <p><em>Most egészítsük ki a gombunk buttonCliked függvényét azzal a paranccsal, ami átállítja a gombunk színét!</em></p>
        <p>A gomb változónk rengeteg hasznos belső függvénnyel rendelkezik, amihez a következőképp férünk hozzá:</p>
        <pre><code>változóNeve.függvényNeve(...);</code></pre>
        <p>
            Amikor leütjük a pontot, az Android Studio elkezd javaslatokat tenni, hogy melyik függvényt használjuk.
            Írjuk be a következőt, és figyeljük, hogy a számítógép hogyan próbál nekünk segíteni!
        </p>
        <pre><code>gomb1.setTextColor(Color.GREEN);</code></pre>
        <p>
            A fenti sor azt mondja a gombnak, hogy állítsa át a szöveg színét zöld színűre. A kód talán kissé kaotikusan fest, de ez
            alapján remélhetőleg nem nagy feladat, ha mondjuk pirosra kéne állítani a szöveg színét!
        </p>
        <p>Ellenőrizzük le, hogy tényleg az történik-e, mint amit szeretnénk, futtassunk egyet!</p>
		<p>
			<button data-target="help_task_2" class="help-link">Kell egy kis segítség?</button>
        </p>
		<div class="help-container" id="help_task_2">
            <ul>
				<li>A MainActivity.java fájl 21. sora környékén található „<code>TextView leiras;</code>” 
					sor alá írd be ezt: <code>Button gomb1;</code>. Ezzel készítettünk egy új változót.</li>
				<li>A 34.sor környékén található <code>leiras = (TextView) findViewById(R.id.leiras);</code> sor alá írd be ezt:
					<code>gomb1 = (Button) findViewById(R.id.button);</code>. Most értéket adtunk a változónak.</li>
				<li>A gombnyomást kezelő kódba pedig: <code>gomb1.setTextColor(color.GREEN);</code>. Ezzel pedig a gomb szövegének színét állítottuk be.</li>
			</ul>
        </div>
		
        <p>Szuper, már nagyon szép színes szövegeket és gombokat tudunk csinálni, de elég unalmasak,
             mert a szövegük nem változik. Ha figyelmesen dolgoztál, akkor láthattad, hogy amikor a fenti
            <code>gomb1.setTextColor(Color.GREEN);</code> sort írtad, a pont leütése után megjelent egy 
            kis ablak hol mindenféle függvénynevek vannak felsorolva. A <code>gomb1.setTextColor(Color.GREEN);</code>
            sor alá kezd el újra beírni, hogy <code>gomb1.set</code>, és a felbukkanó függvények közül próbáld 
            meg kitalálni, hogy melyik lehet az, amelyik a gomb szövegét módosítja!
        </p>

        <p><em>Csak a függvény nevét figyeld egyelőre! A zárójelben lévő dolgokkal még ne foglalkozz!</em></p>
        <img src="/static/img/l03/28_codeCompletion.png" class="center-block" />
        <p>Reméljük, te is a „<code>setText</code>” nevű függvényre gondoltál. Ezzel a függvénnyel lehet módosítani minden olyan
            komponens feliratát/szövegét, amin van valami szöveg. A gombnak például így módosíthatjuk a feliratát:
            „<code>gomb1.setText("Új felirat");</code>”. Fontos, hogy a szövegeket <code>" "</code> (kettős idézőjelek, Shift+2) közé kell tenni, és a
            sorvégi pontosvessző se maradjon le!</p>
        <p>Ezt az új működést is ellenőrizzük egy futtatással!</p>
		</section>
        <section>
        <h2>Most jön az igazi felhasználói felület</h2>

        <p>Az előzőekben mindent megtanultunk, ami ahhoz kell, hogy eltudjuk készíteni az
            alkalmazást! Lássunk hozzá!</p>

        <h3 class="task">3. feladat</h3>
        <img src="/static/img/l03/29_finalLayoutWithEditor.png" class="center-block"/>

        <p>
            Először készítsük el a terven szereplő layout-ot: Nyissuk meg újra az <code>activity_main.xml</code>
            fájlt, figyeljünk rá, hogy alul a <code>Design</code> fül legyen aktív, és a fent
            megtanult módszerrel
            töltsük fel a képernyőt a szükséges komponensekkel.
        </p>
        <ol>
            <li>
                A képernyő tetején legyen a már korábban létrehozott leírás. Módosítjuk a
                szövegét, hogy röviden tájékoztassa a felhasználót, mit is várunk tőle. Pl. „Írd
                be a tippedet!”.
            </li>
            <li>
                Alatta, középen legyen egy szövegdoboz. A szövegdobozokat a <code>Text Fields</code>
                kategóriában találjuk, innen a <code>Number</code> komponenst válasszuk ki, amelyik
                csak
                számokat enged beírni.
                <ol>
                    <li>
                        Amikor lerakod a szövegdobozt, észre fogod venni, hogy igen keskeny
                        lett és nem engedi a szélességét átméretezni. Ezen segíthetsz, ha a
                        <code>layout:width</code> tulajdonságát átállítod <code>match_parent</code>-re.
                        Ez
                        meghatározza, hogy a komponens ne a beírt szöveghez méretezze
                        magát, hanem töltse ki a rendelkezésére álló helyet
                    </li>
                    <li>
                        A <code>hint</code> tulajdonságba megadhatjuk, hogy milyen szöveg jelenjen
                        meg mielőtt a felhasználó elkezd
                        gépelni. pl. <code>"ide írd a számot!"</code>, vagy <code>"(szám 1 és 100 között)"</code>
                    </li>
                </ol>
            </li>
            <li>
                Közvetlen ez alá, középre, helyezzünk el egy újabb gombot, ami segítségével tippelni
                tudunk majd! Ne
                felejtsük el átírni a <code>text</code> tulajdonságát!
            </li>
            <li>Az alsó gombunk lesz az újrakezdés gombja, írjuk is át a feliratát ennek
                megfelelően!
            </li>
            <li>
                A két gomb közé rakjunk le egy nagy szöveget (<code>TextView</code>, a
                <code>Widget</code> kategóriában találod). Itt fog megjelenni a
                tipp eredménye.
            </li>
        </ol>
        <p>A komponensek egyéb tulajdonságait (szöveg mérete, színe stb.) ezek után formázd kedved
            és ízlésed szerint :-)</p>
    </section>
    <section>
        <h3 class="task">4. feladat</h3>

        <p>Ha sikerült a layout szerkesztőben létrehozni a kívánt felületet, akkor eljött az ideje a
            Java kód befejezésének
            (bal oldalt <code>app -> java -> hu.dkrmg.android.guessgame -> MainActivity</code>
            fájlban).</p>

        <p>Először is gondoljuk végig, hogy milyen eseményekre kell reagálnia a telefonnak:</p>
        <ul>
            <li>
                <p>Felhasználó megnyomja az újrakezdés gombot</p>
                <ul>
                    <li>a gomb onClick függvénye indítsa el a játékot</li>
                </ul>
            </li>
            <li>
                <p>Felhasználó tippel egyet</p>
                <ul>
                    <li>jelezzünk vissza, hogy a tipp helyes-e, vagy más számot vártunk</li>
                </ul>
            </li>
        </ul>

        <h4 class="task">4.1. feladat</h4>

        <p>Az újrakezdés gombhoz elvileg még megvan az eseménykezelőnk (2. feladatból a <code>buttonClicked</code>
            függvény, ami a <code>Toast</code> üzenetet dobta).
            Ezt alakítsuk át, hogy a függvény belsejében csak az alábbi sor legyen:</p>
        <pre><code>gondoltSzam = randomGenerator.nextInt(100) + 1;</code></pre>
        <p>Ez garantálja, hogy a <code>gondoltSzam</code> változóban egy véletlen szám legyen. A
            <code>randomGenerator</code>
            <code>nextInt(100)</code> függvénye egy véletlen számot ad vissza a (0, 1, 2, 3, ...,
            99) számok
            közül. Figyelj, 100 nem lehet, 0 viszont igen! Ezért kell a végén egy +1, hogy
            mindenképpen az 1, 2, 3, …, 99, 100 számok valamelyikére gondoljon a telefon.</p>

        <h4 class="task">4.2. feladat</h4>

        <p>A felhasználó visszajelzése egy picit hosszabb lesz ennél!</p>

        <p><em>Ahhoz, hogy megtudjuk, hogy mit tippelt a játékos, először szükségünk lesz <strong>két
            változóra</strong>.</em></p>
        <ul>
            <li>Szövegdoboz, ahova a játékos beírta a tippet (nevezzük mondjuk
                <code>tippDoboz</code>-nak)
            </li>
            <li>Felirat, ami az eredményt jelzi (nevezzük mondjuk <code>eredmenyFelirat</code>-nak)
            </li>
        </ul>
        <p>(Segítség: a szövegdobozt tartalmazó változó típusa <code>EditText</code>, az
            eredményjelzőé pedig <code>TextView</code>). </p>

        <p>Ha megvannak a változóink, adjunk nekik értéket is. Ehhez meg kell keresni a belevaló
            komponenst. Ilyet is csináltunk már, szintén a 2.1. feladatban. (nézd meg a komponenseid
            azonosítóját – <code>id</code> – azután használd a <code>findViewById</code> függvényt) [TODO 4.2 helyére. 4x!]</p>

        <h4 class="task">4.3. feladat</h4>

        <p>Most, hogy megfelelően elő vannak készítve a komponenseink, már ki tudjuk olvasni a
            felhasználó által beírt számot. Ez egy kicsit bonyolultabb (hiszen az <code>EdtiText</code> szöveget
            tartalmaz, nekünk pedig int típusú változóra van szükségünk), ezért megadjuk a kódot,
            csak be kell másolni a megfelelő helyre [TODO 4.3]:</p>
<pre><code>// A szövegdoboz nem tudja, hogy a felhasználó számot írt be,
// mindenképp szövegként adja vissza a tartalmát.
String szovegesTipp = VÁLTOZÓ_NEVE.getText().toString();

// Ahhoz, hogy a gondolt számot össze tudjuk hasonlítani a tippel,
// a tippet előbb számmá kell konvertálni.
int tipp = Integer.parseInt(szovegesTipp);
</code></pre>

        <p>Ha bemásoltad, láthatod, hogy a „VÁLTOZÓ_NEVE” részt az Android Studio csúnya pirossal
            írja. Ez azért van, mert nem ismeri ezt a változót, mivel az nincs deklarálva. Annak a
            helyére kell nektek beírnotok a ti változótok nevét, amiben a szövegdobozt tároljátok
            (kicsit feljebb csináltuk meg).</p>

        <p>Ezek után a felhasználó tippje a <code>tipp</code> nevű, egész szám (<code>int</code>)
            típusú változóban lesz benne, készen a további felhasználásra.</p>
    </section>

    <section id="if-conditional">
        <div class="misc-info">
            <h3>Kitérő: elágazások</h3>

            <p> A programunk sokszor egy feltételtől függően több féleképpen is viselkedhet.
                Esetünkben például:
                <strong>HA</strong> a <code>gondoltSzam</code> változó értéke egyenlő a
                <code>tipp</code> változó értékével, <strong>AKKOR</strong> írd át a megfelelő
                <code>TextView</code> szövegét!
                Pascal-ban találkozhattál esetleg a következővel:</p>
            <pre><code>if (gondoltSzam=tipp) then
begin
  // valami kód
end;</code></pre>
            <p>A Java nyelvben is hasonlóan módunkban áll feltételeket szabni a programban.</p>
            <pre><code>if (feltétel)
{
    // valami kód
}</code></pre>

            <p>Ha a zárójelben lévő feltétel igaz, akkor a kapcsos zárójelek közötti rész futtatásra
                kerül. Utána a program fut tovább.</p>
            <p>Tehát pl.</p>
            <pre><code>// a feltétel előtti kód mindig lefut

if (gondoltSzam == tipp)
{
    // ez a sor beljebb kezdődik
    // Ami itt van, az csak akkor fut le, ha a gondoltSzam változó értéke egyenlő a tipp értékével
}

// vége a feltételnek. Ami itt van, az mindig le fog futni</code></pre>

        </div>
    </section>

    <section>
        <h4 class="task">4.4. feladat</h4>

        <p><em>Vizsgáljuk meg, hogy a <code>gondoltSzam</code> változó (gép által gondolt szám) és a tipp változó
            értéke hogyan viszonyul egymáshoz!</em></p>
        <p>Írj három <code>if</code>-elágazást [TODO 4.4 helyére], ami megvizsgálja</p>
        <ul>
            <li><code>gondoltSzam</code> és <code>tipp</code> egyenlő?</li>
            <li><code>gondoltSzam</code> kisebb, mint <code>tipp</code>?</li>
            <li><code>gondoltSzam</code> nagyobb, mint <code>tipp</code>?</li>
        </ul>
        <p>
            Ha nagyon elakadtál, akkor <button data-target="help_task_4_1" class="help-link">itt egy kis segítség</button>.
        </p>
        <div class="help-container" id="help_task_4_1">
            <p>A feltételeknél a következő legyen a kód. A feltételeket te írd meg!</p>
            <pre><code>if (...egyenlő…)
{
// valami.setText("dsaad");
}
if (...tipp kevesebb mint gondoltSzam...)
{
// valami.setText("dsaad");
}
if (... tipp nagyobb mint gondoltSzam...)
{
// valami.setText("dsaad");
}</code></pre>
        </div>

        <p>Ha nem tudod hogyan hasonlíthatod össze a változóidat, akkor kattints <button data-target="help_task_4_2" class="help-link">ide</button></p>
        <div class="help-container" id="help_task_4_2">
            <p>Az összehasonlításnál használd:</p>
            <p><code>a == b</code> egyenlőek?</p>
            <p><code>a < b</code> a kisebb, mint b?</p>
            <p><code>a > b</code> a nagyobb, mint b?</p>
        </div>

        <p>A feltételek belsejében pedig írd át a felirat (eredményjelző) szövegét, illetve állítsd
            át a színét (pl. pirossal: „kisebbet”, zölddel: „nyertél!”)! Hasonló feladatok már
            előfordultak korábban :-)</p>

        <p>Ha ezt sikerült megírni, próbáljuk ki újra a programot. Immár lényegében kész van, egy
            dologra kell odafigyelni: Mielőtt elkezdhetnénk az első játékot, meg kell nyomni az
            <code>Újrakezdés</code> gombot. A későbbiekben megnézzük majd, hogy hogy lehetne ezt megkerülni, de
            egyelőre nézzük el ezt a kis kellemetlenséget.</p>

        <p>Előfordulhat, hogy amikor elindítod a programot, és megnyomod a „Tippelek” gombot, nem történik
            semmi. Gondolkodj el azon, hogy melyik lépés maradhatott ki! Nézd vissza, hogy az első
            gombnál miket kellett megcsinálni!</p>
        <p>Az elkészült programokat küldjétek el nekünk tömörítve a szakkör <a target="_blank" href="http://goo.gl/UMyfuL">feltöltő</a> lapján keresztül!</p>
    </section>
</div>
<div class="container szorgalmi">
	<h2 class="szorgalmi">Szorgalmi feladatok</h2>
	<p>A következő feladatokat is érdemes megnézni! Ne felejtsétek, programozni gyakorlással lehet megtanulni!</p>

	<p>A leckéhez tartozó szorgalmi feladatok <a href="/lessons/l03_szorgalmi.html">ezen a lapon</a> érthetőek el.</p>
</div>

<footer data-include="/include/footer.html"></footer>
<script src="/static/js/lessonBottomStuff.js" type="text/javascript" charset="utf-8"></script>
<script src="//cdn.rawgit.com/noelboss/featherlight/master/release/featherlight.min.js"></script>
<link rel="stylesheet" href="/static/css/stsheet.css"/>
<script src="/static/js/prism.js"></script>
<script src="/static/js/gAnalytics.js" type="text/javascript" charset="utf-8"></script>
</body>
</html>
